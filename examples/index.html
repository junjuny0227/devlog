<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Devlog ì˜ˆì œ</title>
    <style>
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
      }
      h1 {
        color: #333;
      }
      .section {
        margin: 30px 0;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
      }
      button {
        margin: 5px;
        padding: 10px 20px;
        font-size: 14px;
        cursor: pointer;
        border: 1px solid #007bff;
        background: #007bff;
        color: white;
        border-radius: 4px;
      }
      button:hover {
        background: #0056b3;
      }
      .info {
        background: #e7f3ff;
        padding: 10px;
        border-radius: 4px;
        margin: 10px 0;
      }
      code {
        background: #f4f4f4;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: monospace;
      }
    </style>
  </head>
  <body>
    <h1>ğŸš€ Devlog ì˜ˆì œ</h1>

    <div class="info">
      <strong>í˜„ì¬ í™˜ê²½:</strong> <span id="environment">ê°ì§€ ì¤‘...</span><br />
      <strong>ë¡œê¹… í™œì„±í™”:</strong> <span id="enabled">í™•ì¸ ì¤‘...</span><br />
      <small>ğŸ’¡ ë¸Œë¼ìš°ì € ì½˜ì†”ì„ ì—´ì–´ì„œ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”!</small>
    </div>

    <div class="section">
      <h2>ê¸°ë³¸ ë¡œê¹…</h2>
      <button onclick="testLog()">log()</button>
      <button onclick="testInfo()">info()</button>
      <button onclick="testWarn()">warn()</button>
      <button onclick="testError()">error()</button>
      <button onclick="testDebug()">debug()</button>
    </div>

    <div class="section">
      <h2>ê·¸ë£¹ ë¡œê¹…</h2>
      <button onclick="testGroup()">group()</button>
      <button onclick="testGroupCollapsed()">groupCollapsed()</button>
    </div>

    <div class="section">
      <h2>ê³ ê¸‰ ê¸°ëŠ¥</h2>
      <button onclick="testTable()">table()</button>
      <button onclick="testTime()">time()</button>
      <button onclick="testCount()">count()</button>
      <button onclick="testClear()">clear()</button>
    </div>

    <div class="section">
      <h2>ì»¤ìŠ¤í…€ ì¸ìŠ¤í„´ìŠ¤</h2>
      <button onclick="testCustomLogger()">ì»¤ìŠ¤í…€ Logger</button>
      <button onclick="testForcedProduction()">Production ê°•ì œ ì„¤ì •</button>
    </div>

    <script type="module">
      // devlogë¥¼ ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
      // ë¹Œë“œëœ ESM íŒŒì¼ì„ import
      import { Devlog, devlog, detectEnvironment } from '../dist/index.js';

      // ì „ì—­ìœ¼ë¡œ ì„¤ì •
      window.Devlog = Devlog;
      window.devlog = devlog;
      window.detectEnvironment = detectEnvironment;

      // í™˜ê²½ ì •ë³´ í‘œì‹œ
      document.getElementById('environment').textContent = devlog.getEnvironment();
      document.getElementById('enabled').textContent = devlog.isLoggingEnabled()
        ? 'âœ… í™œì„±í™”'
        : 'âŒ ë¹„í™œì„±í™”';

      // í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤ì„ ì „ì—­ìœ¼ë¡œ
      window.testLog = () => {
        devlog.log('ê¸°ë³¸ ë¡œê·¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤.');
        devlog.log('ì—¬ëŸ¬ ì¸ìë¥¼', 'í•¨ê»˜ ì „ë‹¬í•  ìˆ˜', 'ìˆìŠµë‹ˆë‹¤.', { data: 'object' });
      };

      window.testInfo = () => {
        devlog.info('ì •ë³´ ë©”ì‹œì§€ì…ë‹ˆë‹¤.', { userId: 123, action: 'login' });
      };

      window.testWarn = () => {
        devlog.warn('ê²½ê³  ë©”ì‹œì§€ì…ë‹ˆë‹¤. ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤!');
      };

      window.testError = () => {
        devlog.error('ì—ëŸ¬ ë©”ì‹œì§€ì…ë‹ˆë‹¤!', new Error('í…ŒìŠ¤íŠ¸ ì—ëŸ¬'));
      };

      window.testDebug = () => {
        devlog.debug('ë””ë²„ê·¸ ì •ë³´:', { timestamp: Date.now(), memory: performance.memory });
      };

      window.testGroup = () => {
        devlog.group('ì‚¬ìš©ì ì •ë³´');
        devlog.log('ì´ë¦„: í™ê¸¸ë™');
        devlog.log('ì´ë©”ì¼: hong@example.com');
        devlog.log('ì—­í• : ê°œë°œì');
        devlog.groupEnd();
      };

      window.testGroupCollapsed = () => {
        devlog.groupCollapsed('API ìš”ì²­ ìƒì„¸');
        devlog.log('URL: https://api.example.com/users');
        devlog.log('Method: GET');
        devlog.log('Headers:', { 'Content-Type': 'application/json' });
        devlog.groupEnd();
      };

      window.testTable = () => {
        const users = [
          { id: 1, name: 'ê¹€ì² ìˆ˜', role: 'Admin' },
          { id: 2, name: 'ì´ì˜í¬', role: 'User' },
          { id: 3, name: 'ë°•ë¯¼ìˆ˜', role: 'User' },
        ];
        devlog.table(users);
      };

      window.testTime = () => {
        devlog.time('API í˜¸ì¶œ');
        // ë¹„ë™ê¸° ì‘ì—… ì‹œë®¬ë ˆì´ì…˜
        setTimeout(() => {
          devlog.timeEnd('API í˜¸ì¶œ');
        }, 1000);
        devlog.info('1ì´ˆ í›„ ì‹œê°„ì´ ì¸¡ì •ë©ë‹ˆë‹¤...');
      };

      window.testCount = () => {
        devlog.count('ë²„íŠ¼ í´ë¦­');
        devlog.count('ë²„íŠ¼ í´ë¦­');
        devlog.count('ë²„íŠ¼ í´ë¦­');
        devlog.info('3ë²ˆ í´ë¦­í–ˆìŠµë‹ˆë‹¤. ì¹´ìš´íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ë ¤ë©´ ë‹¤ì‹œ í´ë¦­í•˜ì„¸ìš”.');
        setTimeout(() => devlog.countReset('ë²„íŠ¼ í´ë¦­'), 2000);
      };

      window.testClear = () => {
        devlog.log('ì½˜ì†”ì„ ì§€ì›ë‹ˆë‹¤...');
        setTimeout(() => devlog.clear(), 1000);
      };

      window.testCustomLogger = () => {
        const customLogger = new Devlog({
          prefix: '[CustomApp]',
          enabledEnvironments: ['local', 'dev', 'stage', 'production'],
        });
        customLogger.info('ì»¤ìŠ¤í…€ prefixë¥¼ ì‚¬ìš©í•˜ëŠ” ë¡œê±°ì…ë‹ˆë‹¤.');
        customLogger.log('ëª¨ë“  í™˜ê²½ì—ì„œ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.');
      };

      window.testForcedProduction = () => {
        const prodLogger = new Devlog({
          forceEnvironment: 'production',
          enabledEnvironments: ['local', 'dev'],
        });
        prodLogger.warn('ì´ ë©”ì‹œì§€ëŠ” production í™˜ê²½ìœ¼ë¡œ ê°•ì œ ì„¤ì •ë˜ì–´ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
        devlog.info('ìœ„ ë©”ì‹œì§€ê°€ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ë©´ ì •ìƒì…ë‹ˆë‹¤. (productionì€ ë¹„í™œì„±í™”ë¨)');
      };

      // ì´ˆê¸° ë©”ì‹œì§€
      devlog.log('ğŸ‘‹ Devlogê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤!');
      devlog.info(`í˜„ì¬ í™˜ê²½: ${devlog.getEnvironment()}`);
      devlog.info(`ë¡œê¹… í™œì„±í™”: ${devlog.isLoggingEnabled()}`);
    </script>
  </body>
</html>
