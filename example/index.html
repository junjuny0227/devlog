<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>develog ì˜ˆì œ</title>
    <style>
      body {
        font-family:
          system-ui,
          -apple-system,
          sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
      }
      h1 {
        color: #333;
      }
      .section {
        margin: 30px 0;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
      }
      button {
        margin: 5px;
        padding: 10px 20px;
        font-size: 14px;
        cursor: pointer;
        border: 1px solid #007bff;
        background: #007bff;
        color: white;
        border-radius: 4px;
      }
      button:hover {
        background: #0056b3;
      }
      .info {
        background: #e7f3ff;
        padding: 10px;
        border-radius: 4px;
        margin: 10px 0;
      }
      code {
        background: #f4f4f4;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: monospace;
      }
    </style>
  </head>
  <body>
    <h1>ğŸš€ develog ì˜ˆì œ</h1>

    <div class="info">
      <strong>í˜„ì¬ í™˜ê²½:</strong> <span id="environment">ê°ì§€ ì¤‘...</span><br />
      <strong>ë¡œê¹… í™œì„±í™”:</strong> <span id="enabled">í™•ì¸ ì¤‘...</span><br />
      <small>ğŸ’¡ ë¸Œë¼ìš°ì € ì½˜ì†”ì„ ì—´ì–´ì„œ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”!</small>
    </div>

    <div class="section">
      <h2>ê¸°ë³¸ ë¡œê¹…</h2>
      <button onclick="testLog()">log()</button>
      <button onclick="testInfo()">info()</button>
      <button onclick="testWarn()">warn()</button>
      <button onclick="testError()">error()</button>
      <button onclick="testDebug()">debug()</button>
    </div>

    <div class="section">
      <h2>ê·¸ë£¹ ë¡œê¹…</h2>
      <button onclick="testGroup()">group()</button>
      <button onclick="testGroupCollapsed()">groupCollapsed()</button>
    </div>

    <div class="section">
      <h2>ê³ ê¸‰ ê¸°ëŠ¥</h2>
      <button onclick="testTable()">table()</button>
      <button onclick="testTime()">time()</button>
      <button onclick="testCount()">count()</button>
      <button onclick="testClear()">clear()</button>
    </div>

    <div class="section">
      <h2>ì»¤ìŠ¤í…€ ì¸ìŠ¤í„´ìŠ¤</h2>
      <button onclick="testCustomLogger()">ì»¤ìŠ¤í…€ Logger</button>
      <button onclick="testForcedProduction()">Production ê°•ì œ ì„¤ì •</button>
    </div>

    <div class="section">
      <h2>íƒ€ì„ìŠ¤íƒ¬í”„ & í¬ë§·íŒ…</h2>
      <button onclick="testTimestampTime()">time í¬ë§· (HH:MM:SS)</button>
      <button onclick="testTimestampDatetime()">datetime í¬ë§·</button>
      <button onclick="testTimestampIso()">iso í¬ë§·</button>
      <button onclick="testTimestampMs()">ms í¬ë§·</button>
    </div>

    <div class="section">
      <h2>ë„¤ì„ìŠ¤í˜ì´ìŠ¤ & í•„í„°ë§</h2>
      <button onclick="testNamespaceBasic()">ê¸°ë³¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤</button>
      <button onclick="testNamespaceFiltering()">í•„í„°ë§ (APIë§Œ)</button>
      <button onclick="testNamespaceWildcard()">ì™€ì¼ë“œì¹´ë“œ (API:*)</button>
      <button onclick="testNamespaceHierarchy()">ê³„ì¸µ êµ¬ì¡°</button>
      <button onclick="testNamespaceWithTimestamp()">íƒ€ì„ìŠ¤íƒ¬í”„ í†µí•©</button>
    </div>

    <script type="module">
      // develogë¥¼ ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
      // ë¹Œë“œëœ ESM íŒŒì¼ì„ import
      import { Develog, develog, detectEnvironment } from '../dist/index.js';

      // ì „ì—­ìœ¼ë¡œ ì„¤ì •
      window.Develog = Develog;
      window.develog = develog;
      window.detectEnvironment = detectEnvironment;

      // í™˜ê²½ ì •ë³´ í‘œì‹œ
      document.getElementById('environment').textContent = develog.getEnvironment();
      document.getElementById('enabled').textContent = develog.isLoggingEnabled()
        ? 'âœ… í™œì„±í™”'
        : 'âŒ ë¹„í™œì„±í™”';

      // í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ë“¤ì„ ì „ì—­ìœ¼ë¡œ
      window.testLog = () => {
        develog.log('ê¸°ë³¸ ë¡œê·¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤.');
        develog.log('ì—¬ëŸ¬ ì¸ìë¥¼', 'í•¨ê»˜ ì „ë‹¬í•  ìˆ˜', 'ìˆìŠµë‹ˆë‹¤.', { data: 'object' });
      };

      window.testInfo = () => {
        develog.info('ì •ë³´ ë©”ì‹œì§€ì…ë‹ˆë‹¤.', { userId: 123, action: 'login' });
      };

      window.testWarn = () => {
        develog.warn('ê²½ê³  ë©”ì‹œì§€ì…ë‹ˆë‹¤. ì£¼ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤!');
      };

      window.testError = () => {
        develog.error('ì—ëŸ¬ ë©”ì‹œì§€ì…ë‹ˆë‹¤!', new Error('í…ŒìŠ¤íŠ¸ ì—ëŸ¬'));
      };

      window.testDebug = () => {
        develog.debug('ë””ë²„ê·¸ ì •ë³´:', { timestamp: Date.now(), memory: performance.memory });
      };

      window.testGroup = () => {
        develog.group('ì‚¬ìš©ì ì •ë³´');
        develog.log('ì´ë¦„: í™ê¸¸ë™');
        develog.log('ì´ë©”ì¼: hong@example.com');
        develog.log('ì—­í• : ê°œë°œì');
        develog.groupEnd();
      };

      window.testGroupCollapsed = () => {
        develog.groupCollapsed('API ìš”ì²­ ìƒì„¸');
        develog.log('URL: https://api.example.com/users');
        develog.log('Method: GET');
        develog.log('Headers:', { 'Content-Type': 'application/json' });
        develog.groupEnd();
      };

      window.testTable = () => {
        const users = [
          { id: 1, name: 'ê¹€ì² ìˆ˜', role: 'Admin' },
          { id: 2, name: 'ì´ì˜í¬', role: 'User' },
          { id: 3, name: 'ë°•ë¯¼ìˆ˜', role: 'User' },
        ];
        develog.table(users);
      };

      window.testTime = () => {
        develog.time('API í˜¸ì¶œ');
        // ë¹„ë™ê¸° ì‘ì—… ì‹œë®¬ë ˆì´ì…˜
        setTimeout(() => {
          develog.timeEnd('API í˜¸ì¶œ');
        }, 1000);
        develog.info('1ì´ˆ í›„ ì‹œê°„ì´ ì¸¡ì •ë©ë‹ˆë‹¤...');
      };

      window.testCount = () => {
        develog.count('ë²„íŠ¼ í´ë¦­');
        develog.count('ë²„íŠ¼ í´ë¦­');
        develog.count('ë²„íŠ¼ í´ë¦­');
        develog.info('3ë²ˆ í´ë¦­í–ˆìŠµë‹ˆë‹¤. ì¹´ìš´íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ë ¤ë©´ ë‹¤ì‹œ í´ë¦­í•˜ì„¸ìš”.');
        setTimeout(() => develog.countReset('ë²„íŠ¼ í´ë¦­'), 2000);
      };

      window.testClear = () => {
        develog.log('ì½˜ì†”ì„ ì§€ì›ë‹ˆë‹¤...');
        setTimeout(() => develog.clear(), 1000);
      };

      window.testCustomLogger = () => {
        const customLogger = new Develog({
          prefix: '[CustomApp]',
          enabledEnvironments: ['local', 'dev', 'stage', 'production'],
        });
        customLogger.info('ì»¤ìŠ¤í…€ prefixë¥¼ ì‚¬ìš©í•˜ëŠ” ë¡œê±°ì…ë‹ˆë‹¤.');
        customLogger.log('ëª¨ë“  í™˜ê²½ì—ì„œ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.');
      };

      window.testForcedProduction = () => {
        const prodLogger = new Develog({
          forceEnvironment: 'production',
          enabledEnvironments: ['local', 'dev'],
        });
        prodLogger.warn('ì´ ë©”ì‹œì§€ëŠ” production í™˜ê²½ìœ¼ë¡œ ê°•ì œ ì„¤ì •ë˜ì–´ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
        develog.info('ìœ„ ë©”ì‹œì§€ê°€ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ë©´ ì •ìƒì…ë‹ˆë‹¤. (productionì€ ë¹„í™œì„±í™”ë¨)');
      };

      window.testTimestampTime = () => {
        const logger = new Develog({
          showTimestamp: true,
          timestampFormat: 'time',
        });
        logger.log('time í¬ë§· - HH:MM:SS');
        logger.info('í˜„ì¬ ì‹œê°„ì´ prefixì— í‘œì‹œë©ë‹ˆë‹¤.');
      };

      window.testTimestampDatetime = () => {
        const logger = new Develog({
          showTimestamp: true,
          timestampFormat: 'datetime',
        });
        logger.log('datetime í¬ë§· - YYYY-MM-DD HH:MM:SS');
        logger.info('ë‚ ì§œì™€ ì‹œê°„ì´ ëª¨ë‘ í‘œì‹œë©ë‹ˆë‹¤.');
      };

      window.testTimestampIso = () => {
        const logger = new Develog({
          showTimestamp: true,
          timestampFormat: 'iso',
        });
        logger.log('iso í¬ë§· - ISO 8601 í‘œì¤€');
        logger.info('êµ­ì œ í‘œì¤€ ì‹œê°„ í˜•ì‹ì…ë‹ˆë‹¤.');
      };

      window.testTimestampMs = () => {
        const logger = new Develog({
          showTimestamp: true,
          timestampFormat: 'ms',
        });
        logger.log('ms í¬ë§· - Unix timestamp (ë°€ë¦¬ì´ˆ)');
        logger.info('1970ë…„ 1ì›” 1ì¼ë¶€í„°ì˜ ë°€ë¦¬ì´ˆì…ë‹ˆë‹¤.');
      };

      // ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í…ŒìŠ¤íŠ¸
      window.testNamespaceBasic = () => {
        develog.info('=== ê¸°ë³¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë°ëª¨ ===');
        const logger = new Develog();

        const apiLogger = logger.namespace('API');
        const dbLogger = logger.namespace('DB');
        const cacheLogger = logger.namespace('Cache');

        apiLogger.log('API ìš”ì²­ ì‹œì‘');
        dbLogger.log('DB ì¿¼ë¦¬ ì‹¤í–‰');
        cacheLogger.log('ìºì‹œ ì¡°íšŒ');
        develog.info('âœ… ì„¸ ê°€ì§€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë¡œê·¸ê°€ ëª¨ë‘ ì¶œë ¥ë©ë‹ˆë‹¤.');
      };

      window.testNamespaceFiltering = () => {
        develog.info('=== ë„¤ì„ìŠ¤í˜ì´ìŠ¤ í•„í„°ë§ ë°ëª¨ (APIë§Œ í™œì„±í™”) ===');
        const logger = new Develog({
          enabledNamespaces: ['API'],
        });

        const apiLogger = logger.namespace('API');
        const dbLogger = logger.namespace('DB');
        const cacheLogger = logger.namespace('Cache');

        apiLogger.log('âœ… API ë¡œê·¸ëŠ” ë³´ì…ë‹ˆë‹¤');
        dbLogger.log('âŒ DB ë¡œê·¸ëŠ” ìˆ¨ê²¨ì§‘ë‹ˆë‹¤');
        cacheLogger.log('âŒ Cache ë¡œê·¸ëŠ” ìˆ¨ê²¨ì§‘ë‹ˆë‹¤');
        develog.info('âœ… API ë¡œê·¸ë§Œ ì¶œë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
      };

      window.testNamespaceWildcard = () => {
        develog.info('=== ì™€ì¼ë“œì¹´ë“œ íŒ¨í„´ ë°ëª¨ (API:*) ===');
        const logger = new Develog({
          enabledNamespaces: ['API:*'],
        });

        const apiLogger = logger.namespace('API');
        const userApiLogger = apiLogger.namespace('User');
        const productApiLogger = apiLogger.namespace('Product');
        const dbLogger = logger.namespace('DB');

        apiLogger.log('âœ… API ë¡œê·¸');
        userApiLogger.log('âœ… API:User ë¡œê·¸');
        productApiLogger.log('âœ… API:Product ë¡œê·¸');
        dbLogger.log('âŒ DB ë¡œê·¸ëŠ” ìˆ¨ê²¨ì§‘ë‹ˆë‹¤');
        develog.info('âœ… APIë¡œ ì‹œì‘í•˜ëŠ” ëª¨ë“  ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ ì¶œë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
      };

      window.testNamespaceHierarchy = () => {
        develog.info('=== ê³„ì¸µ êµ¬ì¡° ë°ëª¨ ===');
        const logger = new Develog();

        const apiLogger = logger.namespace('API');
        const userApiLogger = apiLogger.namespace('User');
        const authUserApiLogger = userApiLogger.namespace('Auth');

        apiLogger.log('Level 1: API');
        userApiLogger.log('Level 2: API:User');
        authUserApiLogger.log('Level 3: API:User:Auth');
        develog.info('âœ… ê³„ì¸µì  ë„¤ì„ìŠ¤í˜ì´ìŠ¤ êµ¬ì¡°ê°€ ì¶œë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
      };

      window.testNamespaceWithTimestamp = () => {
        develog.info('=== ë„¤ì„ìŠ¤í˜ì´ìŠ¤ + íƒ€ì„ìŠ¤íƒ¬í”„ í†µí•© ë°ëª¨ ===');
        const logger = new Develog({
          showTimestamp: true,
          timestampFormat: 'time',
          enabledNamespaces: ['API:*'],
        });

        const apiLogger = logger.namespace('API');
        const userLogger = apiLogger.namespace('User');

        apiLogger.log('íƒ€ì„ìŠ¤íƒ¬í”„ì™€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ í•¨ê»˜ í‘œì‹œë©ë‹ˆë‹¤');
        userLogger.info('API:User ë¡œê·¸ì—ë„ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ í¬í•¨ë©ë‹ˆë‹¤');
        develog.info('âœ… ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì™€ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ í†µí•©ë˜ì–´ ì¶œë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
      };

      // ì´ˆê¸° ë©”ì‹œì§€
      develog.log('ğŸ‘‹ develogê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤!');
      develog.info(`í˜„ì¬ í™˜ê²½: ${develog.getEnvironment()}`);
      develog.info(`ë¡œê¹… í™œì„±í™”: ${develog.isLoggingEnabled()}`);
    </script>
  </body>
</html>
